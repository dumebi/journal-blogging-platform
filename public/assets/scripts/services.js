!function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.deletePost=function(i){var r=e.getToken();return t.post(this.apiUrl+"/posts/delete?token="+r,{post_id:i})}}angular.module("journal.component.deletePostModal").service("DeletePostModalService",["$http","AuthService","CONFIG",t])}(),function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.checkSlug=function(e,i){var r=this.apiUrl+"/posts/check_slug?slug="+(e||"");return i&&(r+="&post_id="+i),t.get(r)},this.getPost=function(e){return t.get(this.apiUrl+"/posts/get_post?post_id="+e)},this.getTags=function(){return t.get(this.apiUrl+"/tags/all")},this.save=function(i){var r=e.getToken(),s=this.apiUrl+"/posts/save?token="+r,n=i.author_id||"",o=i.title||"",a=i.markdown||"",u=i.slug||"",c=i.status||2,l=i.tags||"",h=i.published_at||Math.floor(Date.now()/1e3);return i.id&&(s+="&post_id="+i.id),t.post(s,{author_id:n,title:o,markdown:a,slug:u,status:c,tags:l,published_at:h})}}angular.module("journal.component.editor").service("EditorService",["$http","AuthService","CONFIG",t])}(),function(){"use strict";function t(t,e){this.apiUrl=e.API_URL,this.createAccount=function(e){return t.post(this.apiUrl+"/installer/create_account",{email:e.email||"",name:e.name||"",password:e.password||"",title:e.title||""})}}angular.module("journal.component.installerDetails").service("InstallerDetailsService",["$http","CONFIG",t])}(),function(){"use strict";function t(t,e){this.apiUrl=e.API_URL,this.authenticate=function(e,i){return t.post(this.apiUrl+"/auth/authenticate",{email:e||"",password:i||""})}}angular.module("journal.component.login").service("LoginService",["$http","CONFIG",t])}(),function(){"use strict";function t(t,e){this.apiUrl=e.API_URL,this.getPosts=function(){return t.get(this.apiUrl+"/posts/all")}}angular.module("journal.component.postLists").service("PostListService",["$http","CONFIG",t])}(),function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.getSettings=function(e){return t.get(this.apiUrl+"/settings/get?fields="+e)},this.saveSettings=function(i){var r={},s=e.getToken();for(var n in i)r[n]=i[n];return t.post(this.apiUrl+"/settings/save?token="+s,r)}}angular.module("journal.component.settings").service("SettingsService",["$http","AuthService","CONFIG",t])}(),function(){"use strict";function t(t,e){this.apiUrl=e.API_URL,this.getSettings=function(e){return t.get(this.apiUrl+"/settings/get?fields="+e)}}angular.module("journal.component.sidebar").service("SidebarService",["$http","CONFIG",t])}(),function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.createUser=function(i){var r=e.getToken();return t.post(this.apiUrl+"/users/create?token="+r,{email:i.email||"",password:i.password||"",name:i.name||""})}}angular.module("journal.component.userCreate").service("UserCreateService",["$http","AuthService","CONFIG",t])}(),function(){"use strict";function t(t,e){this.apiUrl=e.API_URL,this.getAllUsers=function(){return t.get(this.apiUrl+"/users/all")}}angular.module("journal.component.userLists").service("UserListsService",["$http","CONFIG",t])}(),function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.getUser=function(e){return t.get(this.apiUrl+"/users/get_user?user_id="+e)},this.updateUserDetails=function(i){var r=e.getToken(),s=i.id||"";return t.post(this.apiUrl+"/users/update_details?token="+r+"&user_id="+s,{name:i.name||"",email:i.email||"",biography:i.biography||"",location:i.location||"",website:i.website||"",cover_url:i.cover_url||"",avatar_url:i.avatar_url||""})}}angular.module("journal.component.userProfile").service("UserProfileService",["$http","AuthService","CONFIG",t])}(),function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.checkInstallation=function(){return t.get(this.apiUrl+"/auth/check_installation")},this.checkToken=function(){return t.get(this.apiUrl+"/auth/check?token="+this.getToken())},this.getToken=function(){return e.get("token")},this.login=function(t){return e.set("user",JSON.stringify(t))},this.logout=function(){e.remove("user"),e.remove("token")},this.setToken=function(t){return e.set("token",t)},this.user=function(){return JSON.parse(e.get("user"))}}angular.module("journal.shared.auth").service("AuthService",["$http","StorageService","CONFIG",t])}(),function(){"use strict";function t(t,e,i){this.apiUrl=i.API_URL,this.upload=function(t){return e.upload({url:this.apiUrl+"/upload",file:t})}}angular.module("journal.shared.fileUploader").service("FileUploaderService",["AuthService","Upload","CONFIG",t])}(),function(){"use strict";function t(t){this.set=function(e,i){return t.set(e,i)},this.get=function(e){return t.get(e)},this.remove=function(e){return t.remove(e)}}angular.module("journal.shared.storage").service("StorageService",["localStorageService",t])}(),function(){"use strict";function t(t){this.toast=function(e,i){switch(i){case"success":t.success(e);break;case"info":t.info(e);break;case"error":t.error(e);break;case"warning":t.warning("message");break;default:t.success(e)}}}angular.module("journal.shared.toastr").service("ToastrService",["toastr",t])}();