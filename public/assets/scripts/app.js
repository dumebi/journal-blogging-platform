!function(){"use strict";angular.module("Journal",["journal.config","journal.routes","journal.run","journal.constant","journal.component.login","journal.component.header","journal.component.editor","journal.component.installer","journal.component.installerDetails","journal.component.installerStart","journal.component.installerSuccess","journal.component.postLists","journal.component.settings","journal.component.settingsModal","journal.component.userCreate","journal.component.userLists","journal.component.userProfile","journal.component.userProfileModal","journal.shared.auth","journal.shared.fileUploader","journal.shared.growl","journal.shared.storage","journal.shared.markdownConverter"]),angular.module("journal.config",["angular-growl","LocalStorageModule"]),angular.module("journal.constant",[]),angular.module("journal.routes",["ui.router"]),angular.module("journal.run",["journal.shared.auth","ngProgressLite"]),angular.module("journal.component.login",["journal.constant","journal.shared.auth","journal.shared.growl","ui.router"]),angular.module("journal.component.header",["journal.shared.auth","ui.bootstrap"]),angular.module("journal.component.editor",["journal.constant","journal.shared.auth","journal.shared.markdownConverter","journal.shared.growl","ngSanitize","ui.codemirror","ui.router"]),angular.module("journal.component.installer",["ui.router"]),angular.module("journal.component.installerStart",["ui.router"]),angular.module("journal.component.installerDetails",["journal.constant","journal.shared.auth","journal.shared.growl","ui.router"]),angular.module("journal.component.installerSuccess",["journal.shared.auth","journal.shared.growl"]),angular.module("journal.component.postLists",["journal.constant","journal.shared.auth","journal.shared.growl","journal.shared.markdownConverter","ui.router"]),angular.module("journal.component.settings",["journal.constant","journal.shared.auth","journal.shared.growl","ui.bootstrap","ui.router"]),angular.module("journal.component.settingsModal",["journal.constant","journal.component.settings","journal.shared.auth","journal.shared.fileUploader","journal.shared.growl","ngFileUpload","ui.bootstrap","ui.router"]),angular.module("journal.component.userCreate",["journal.constant","journal.shared.auth","journal.shared.growl","ui.router"]),angular.module("journal.component.userLists",["journal.constant","journal.shared.auth","journal.shared.growl","ui.router"]),angular.module("journal.component.userProfile",["journal.constant","journal.shared.auth","journal.shared.growl","ui.bootstrap","ui.router"]),angular.module("journal.component.userProfileModal",["journal.component.userProfile","journal.shared.fileUploader","journal.shared.growl","ngFileUpload","ui.bootstrap","ui.router"]),angular.module("journal.shared.auth",["journal.constant","journal.shared.storage"]),angular.module("journal.shared.fileUploader",["journal.constant","journal.shared.auth","ngFileUpload"]),angular.module("journal.shared.growl",["angular-growl"]),angular.module("journal.shared.storage",["LocalStorageModule"]),angular.module("journal.shared.markdownConverter",["ngSanitize"])}(),function(){"use strict";function e(e,t){var r="/assets/templates";t.otherwise("/").when("/","/post/lists").when("/post","/post/lists").when("/installer","/installer/start").when("/user","/user/lists"),e.state("editor",{url:"/editor",views:{"":{templateUrl:r+"/editor/editor.html"},header_content:{templateUrl:r+"/header/header.html"}},authenticate:!0,installer:!1}).state("landing",{url:"/",authenticate:!0,installer:!1}).state("login",{url:"/login",templateUrl:r+"/login/login.html",authenticate:!1,installer:!1}).state("installer",{url:"/installer",templateUrl:r+"/installer/installer.html",authenticate:!1,installer:!0,"abstract":!0}).state("installer.start",{url:"/start",views:{installer_content:{templateUrl:r+"/installer-start/installer-start.html"}}}).state("installer.details",{url:"/details",views:{installer_content:{templateUrl:r+"/installer-details/installer-details.html"}},authenticate:!1,installer:!0}).state("installer.success",{url:"/success",views:{installer_content:{templateUrl:r+"/installer-success/installer-success.html"}},authenticate:!1,installer:!0}).state("post",{url:"/post","abstract":!0,views:{"":{templateUrl:r+"/post/post.html"},header_content:{templateUrl:r+"/header/header.html"}},authenticate:!0,installer:!1}).state("post.lists",{url:"/lists",views:{post_content:{templateUrl:r+"/post-lists/post-lists.html"}},authenticate:!0,installer:!1}).state("postEditor",{url:"/editor/:postId",views:{"":{templateUrl:r+"/editor/editor.html"},header_content:{templateUrl:r+"/header/header.html"}},authenticate:!0,installer:!1}).state("settings",{url:"/settings",views:{"":{templateUrl:r+"/settings/settings.html"},header_content:{templateUrl:r+"/header/header.html"}},authenticate:!0,installer:!1}).state("user",{url:"/user",views:{"":{templateUrl:r+"/user/user.html"},header_content:{templateUrl:r+"/header/header.html"}},authenticate:!0,installer:!1,"abstract":!0}).state("user.lists",{url:"/lists",views:{user_content:{templateUrl:r+"/user-lists/user-lists.html"}},authenticate:!0,installer:!1}).state("user.create",{url:"/create",views:{user_content:{templateUrl:r+"/user-create/user-create.html"}},authenticate:!0,installer:!1}).state("user.profile",{url:"/profile/:userId",views:{user_content:{templateUrl:r+"/user-profile/user-profile.html"}}})}angular.module("journal.routes").config(["$stateProvider","$urlRouterProvider",e])}(),function(){"use strict";function e(e){e.globalPosition("top-right").globalTimeToLive(1e4)}function t(e){e.defaults.useXDomain=!0,delete e.defaults.headers.common["X-Requested-With"]}function r(e){e.setPrefix("journal")}angular.module("journal.config").config(["$httpProvider",t]).config(["growlProvider",e]).config(["localStorageServiceProvider",r])}(),function(){"use strict";function e(e,t,r,a,n){e.$on("$stateChangeStart",function(e,r,l,o,u){n.start(),r.installer||!r.authenticate||a.user()||(t.transitionTo("login"),e.preventDefault()),("installer"==r.name||"installer.start"==r.name)&&a.checkInstallation().success(function(r){return r.installed?(t.transitionTo("login"),void e.preventDefault()):void 0}),"login"==r.name&&a.user()&&a.getToken()&&(t.transitionTo("post.lists"),e.preventDefault())}),e.$on("$stateChangeSuccess",function(e,t,a,l,o){r(function(){n.done()})})}function t(e,t){return t.checkInstallation().success(function(t){return t.installed?void 0:(e.transitionTo("installer"),void event.preventDefault())}),t.getToken()||t.user()?void(t.getToken()&&t.checkToken().success(function(e){e.user&&t.login(e.user)}).error(function(r){t.logout(),e.transitionTo("login"),event.preventDefault()})):(t.logout(),e.transitionTo("login"),void event.preventDefault())}angular.module("journal.run").run(["$rootScope","$state","$timeout","AuthService","ngProgressLite",e]).run(["$state","AuthService",t])}(),function(){"use strict";angular.module("journal.constant").constant("CONFIG",{API_URL:"/api/v1.0",DEFAULT_AVATAR_URL:"http://40.media.tumblr.com/7d65a925636d6e3df94e2ebe30667c29/tumblr_nq1zg0MEn51qg6rkio1_500.jpg",DEFAULT_COVER_URL:"/assets/images/wallpaper.jpg",VERSION:"1.0.0"})}();