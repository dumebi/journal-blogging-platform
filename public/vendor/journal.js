!function(){"use strict";angular.module("Journal",["journal.config","journal.constants","journal.routes","journal.run","journal.components.login","journal.components.post","journal.components.postLists","journal.components.sidebar","journal.shared.auth","journal.shared.storage","journal.shared.toastr"]),angular.module("journal.config",["LocalStorageModule","toastr"]),angular.module("journal.constants",[]),angular.module("journal.routes",["ui.router","journal.constants"]),angular.module("journal.run",[]),angular.module("journal.components.login",[]),angular.module("journal.components.post",[]),angular.module("journal.components.postLists",[]),angular.module("journal.components.sidebar",[]),angular.module("journal.shared.auth",[]),angular.module("journal.shared.storage",["LocalStorageModule"]),angular.module("journal.shared.toastr",["ngAnimate","toastr"])}(),function(){"use strict";function t(t){angular.extend(t,{autoDismiss:!1,containerId:"toast-container",maxOpened:5,newestOnTop:!1,positionClass:"toast-bottom-left",preventDuplicates:!1,preventOpenDuplicates:!0,target:"body",timeOut:1e4})}function e(t){t.defaults.useXDomain=!0,delete t.defaults.headers.common["X-Requested-With"]}function o(t){t.setPrefix("journal")}angular.module("journal.config").config(["$httpProvider",e]).config(["toastrConfig",t]).config(["localStorageServiceProvider",o])}(),function(){"use strict";function t(t,e){var o=function(t){return"/assets/templates/"+t};e.otherwise("/"),t.state("login",{url:"/login",templateUrl:o("login/login.html")}).state("post",{"abstract":!0,url:"/post",views:{"":{templateUrl:o("post/post.html")},sidebar:{templateUrl:o("sidebar/sidebar.html")}}}).state("post.lists",{url:"/lists",views:{post_content:{templateUrl:o("post-lists/post-lists.html")}}})}angular.module("journal.routes").config(["$stateProvider","$urlRouterProvider",t])}(),function(){"use strict";angular.module("journal.run")}(),function(){"use strict";angular.module("journal.constants").constant("CONFIG",{API_URL:"http://localhost:8000/api/v1.0",DEFAULT_AVATAR_URL:"http://40.media.tumblr.com/7d65a925636d6e3df94e2ebe30667c29/tumblr_nq1zg0MEn51qg6rkio1_500.jpg",DEFAULT_COVER_URL:"/assets/images/wallpaper.jpg",VERSION:"2.0.0",CDN_URL:"http://localhost:8000"})}(),function(){"use strict";function t(t,e,o,n){var r=this;r.login={},r.processing=!1,r.authenticateLogin=function(){var s=r.login;r.processing=!1,o.authenticate(s.email,s.password).then(function(o){return o.user&&o.token?(e.login(o.user,o.token),void t.go("post.lists")):void 0},function(t){var e=t.errors.message;return e?void n.toast(e,"error"):void 0})}}angular.module("journal.components.login").controller("LoginController",["$state","AuthService","LoginService","ToastrService",t])}(),function(){"use strict";function t(){}angular.module("journal.components.postLists").controller("PostListsController",[t])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"/assets/templates/sidebar/sidebar-directive.html",replace:!0,link:function(t,e,o){}}}angular.module("journal.components.sidebar").directive("journalSidebar",[t])}(),function(){"use strict";function t(t,e,o){this.apiUrl=o.API_URL,this.authenticate=function(o,n){var r=e.defer(),s={email:o,password:n};return t.post(this.apiUrl+"/auth/authenticate",s).success(function(t){r.resolve(t)}).error(function(t){r.reject(t)}),r.promise}}angular.module("journal.components.login").service("LoginService",["$http","$q","CONFIG",t])}(),function(){"use strict";function t(t){this.login=function(e,o){t.set("user",e),t.set("token",o)},this.logout=function(){t.remove("user"),t.remove("token")},this.token=function(){return t.get("user")},this.user=function(){return t.get("user")}}angular.module("journal.shared.auth").service("AuthService",["StorageService",t])}(),function(){"use strict";function t(t){this.set=function(e,o){return t.set(e,o)},this.get=function(e){return t.get(e)},this.remove=function(e){return t.remove(e)}}angular.module("journal.shared.storage").service("StorageService",["localStorageService",t])}(),function(){"use strict";function t(t){this.toast=function(e,o){switch(o){case"success":t.success(e);break;case"info":t.info(e);break;case"error":t.error(e);break;case"warning":t.warning("message");break;default:t.success(e)}}}angular.module("journal.shared.toastr").service("ToastrService",["toastr",t])}();